1) prima prendiamo del Docker Hub le immagini base:

docker pull alpine
docker pull nginx
docker pull redis

2) taggo le immagini

docker tag alpine localhost:5000/alpine:latest
docker tag nginx localhost:5000/nginx:latest
docker tag redis localhost:5000/redis:latest

3) push sulla repo:

docker push localhost:5000/alpine:latest
docker push localhost:5000/nginx:latest
docker push localhost:5000/redis:latest

4) elenco delle immagini:

curl http://localhost:5000/v2/_catalog

Output: {"repositories":["alpine","nginx","redis"]}

5) rimozione di un immagine:

docker rmi localhost:5000/alpine:latest

6) scarico di nuovo l'immagine del repo privato

docker pull localhost:5000/alpine:latest

7) avvio immagine dal mio repo:

docker run -it --rm localhost:5000/alpine:latest sh

8) elimino immagini non usate:

docker image prune -a



sudo ansible-playbook container-playbook.yml 

